<app-header></app-header>
<h1 id="title">Liste des projets</h1>

<div class="content">

    <table class="table table-hover">
      <thead class="thead_container" >
        <tr>
          <th scope="col">Nom du projet </th>
          <th scope="col">Type </th>
          <th scope="col">Chef projet</th>
          <th scope="col">Equipe du projet</th>
          <th scope="col">Modifier</th>
          <th scope="col">Supprimer</th>
        </tr>
      </thead>
      <tbody *ngFor="let projet of projets" >
        <tr>
          <td>{{projet.nomProjet}}</td>
          <td>{{projet.typeProjet}}</td>
          <td>{{projet.chefProjet}}</td>
          <td>{{projet.equipeProjet}}</td>
          <td class="td"><i class="bi bi-pencil-square"(click)="onEdit(projet)" data-bs-toggle="modal" data-bs-target="#exampleModal"></i></td>
          <td class="td"><i class="bi bi-trash"alt="delete" (click)="deleteProject(projet.id)"></i> </td>
        </tr>
   
  
    </tbody>
  </table>
  <button  type="button" id="CreateProject" (click)= "addProject()"  class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
    Créer un projet
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="Titre">Ajout projet</h5>
          <button type="button" class="close" data-bs-dismiss="modal"  aria-label="Close">
            <i class="bi bi-x"></i>
          </button>
        </div>
        <div class="modal-body">
          <form [formGroup]="formValue">
                            
            <div class="form-group">
              
                <input type="text" class="form-control" id="nomProjet"  name="nomProjet" formControlName="nomProjet" placeholder="Entrez le nom du projet"  required>
                <br>
              </div>                            
            <div  class="form-group">
            
                <input type="text" class="form-control" id="typeProjet" name="typeProjet" formControlName="typeProjet" placeholder="Entrez le type du projet" >
                <br>
            </div>                            
            <div  class="form-group" >
               
                <input type="text" class="form-control" id="chefProjet" name="chefProjet" formControlName="chefProjet" placeholder="Entrez le chef du projet" >                
                <br>
            </div>
            <div  class="form-group" >
                
                <input type="text" class="form-control" id="equipeProjet" name="equipeProjet" formControlName="equipeProjet"placeholder="Entrez l'equipe du projet" >
                <br>                         
            </div>

          
        
        </form>
        </div>
        <div class="modal-footer">
            <button type="button" id='cancel' class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
            <button type="button" *ngIf="showAdd"class="btn btn-primary"  (click)="saveProject()">Créer</button>
            <button type="button" *ngIf="showUpdate" class="btn btn-primary"  (click)="updateProject()">Modifier</button>
        </div>
      </div>
    </div>
  </div>
  </div>